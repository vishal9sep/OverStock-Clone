
var rugs=[
    {imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/57e55b6b50af4de47b5b254913333668cb30dec4/SAFAVIEH-Adirondack-Vera-Modern-Ombre-Distressed-Stripe-Area-Rug.jpg?imwidth=480&impolicy=medium",

    price:2272,
    rating:4.4,
    name:"SAFAVIEH Adirondack Vera Modern Ombre Stripe Area Rug"
    },

    {imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/fa0de7e5f6db966631851fdd3f058a6b965ff170/SAFAVIEH-California-Shag-Izat-2-inch-Thick-Rug.jpg?imwidth=480&impolicy=medium",
    price:3660,
    rating:4.7,
    name:"SAFAVIEH California Shag Izat 2-inch Thick Area Rug"

    },

    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/cc853e80810cc372aa11f7598d8cf0c12e59feea/SAFAVIEH-Tulum-Bora-Moroccan-Boho-Chic-Area-Rug.jpg?imwidth=480&impolicy=medium",
        price:2564,
        rating:4.4,
        name:"SAFAVIEH Tulum Bora Moroccan Boho chic Area Rug"
    },

    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/62bffb6ee01d3cbb3ba329553a8ef470250e678c/SAFAVIEH-August-Shag-Solid-1.2-inch-Thick-Area-Rug.jpg?imwidth=480&impolicy=medium",
        price:2318,
        rating:4.1,
        name:"SAFAVIEH August Shag solif 2-inch Thick Area Rug"
    },
    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/689687797ec974d679e489dd81cc23da84bcc6b3/SAFAVIEH-Madison-Loane-Modern-Abstract-Rug.jpg?imwidth=480&impolicy=medium",
        price:2222,
        rating:4.5,
        name:"SAFAVIEH Madison Loane Modern Abstract Rug"
    },
    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/6f2f4c20d2f89bed074d54fbdf2ad920533a8657/SAFAVIEH-Vision-Tanasa-Modern-Ombre-Tonal-Rug.jpg?imwidth=480&impolicy=medium",
        price:2781,
        rating:4.6,
        name:"SAFAVIEH Vision Tanasa Modern Ombre Tonam Rug"
    },
    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/30829d574880db617090bfcbd882bcac6b31d6f2/Newton-Geometric-Moroccan-Trellis-Shag-Area-Rug.jpg?imwidth=480&impolicy=medium",
        price:4117,
        rating:4.5,
        name:"Newton Geometric Moroccan Trellis Shag Area Rug"
    },
    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/80f81fe48aa3a5133edba7a024adc6d346f8dc2b/Alexander-Home-Tremezzina-Printed-Boho-Distressed-Rug..jpg?imwidth=480&impolicy=medium",
        price:3980,
        rating:4.6,
        name:"Alexander Home Tremezzina Printed Boho Distressed Rug."
    },
    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/302343419090889da1d3568530216f21196dc3b3/nuLOOM-Wynn-Braided-Indoor-Outdoor-Area-Rug.jpg?imwidth=480&impolicy=medium",
        price:3211,
        rating:4.4,
        name:"nuLOOM Wynn Braided Indoor/Outdoor Area Rug"
    },
    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/df830a9638ffdedc5ef001b594e98604b2decf70/SAFAVIEH-Madison-Diederike-Boho-Medallion-Distressed-Rug.jpg?imwidth=480&impolicy=medium",
        price:1984,
        rating:4.4,
        name:"SAFAVIEH Madison Diederike Boho Medallion Distressed Rug"
    },
    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/51fe1172452e9b0477757deedaa591d3ea1e9d8b/SAFAVIEH-Natural-Fiber-Carmit-Casual-Border-Sisal-Rug.jpg?imwidth=480&impolicy=medium",
        price:2217,
        rating:4.5,
        name:"SAFAVIEH Natural Fiber Carmit Casual Border Sisal Rug"
    },
    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/f74e954e877f9e9201d2698b9a9d8b75e99c84a9/The-Curated-Nomad-Tiffany-Bohemian-Border-Area-Rug.jpg?imwidth=480&impolicy=medium",
        price:4162,
        rating:4.2,
        name:"Artistic Weavers Tiffany Grey Bohemian Border Area Rug"
    },
    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/356aec1fe759156a544fb25321be44fa7f6f950a/SAFAVIEH-Dallas-Shag-Giusy-Trellis-1.5-inch-Thick-Rug.jpg?imwidth=480&impolicy=medium",
        price:2335,
        rating:4.3,
        name:"SAFAVIEH Dallas Shag Giusy Trellis Thick Rug"
    },
    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/16cb8a4b0c88ab9dd9d67af84e6f647e79e65b33/The-Curated-Nomad-Ashbury-Moroccan-Area-Rug.jpg?imwidth=480&impolicy=medium",
        price:2964,
        rating:4.2,
        name:"SAFAVIEH Dallas Shag Giusy Trellis 1.5-inch Thick Rug"
    },
    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/1c9f01a5d19453e2cff0b4fa297e1822242ec376/Alexander-Home-Isabelle-Traditional-Printed-Area-Rug.jpg?imwidth=480&impolicy=medium",
        price:2435,
        rating:4.1,
        name:"nuLOOM Moroccan Blythe Boho Trellis Area Rug"
    },
    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/16cb8a4b0c88ab9dd9d67af84e6f647e79e65b33/The-Curated-Nomad-Ashbury-Moroccan-Area-Rug.jpg?imwidth=480&impolicy=medium",
        price:2964,
        rating:4.5,
        name:"Alexander Home Isabelle Traditional Printed Area Rug"
    },
    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/fffa859a3e9df54a1e3270ff6200977d43ec7eeb/SAFAVIEH-Madison-Avery-Boho-Chic-Distressed-Area-Rug.jpg?imwidth=480&impolicy=medium",
        price:2049,
        rating:4.4,
        name:"SAFAVIEH Natural Fiber Oceana Herringbone Seagrass Rug"
    },
    {
        imageurl:"https://ak1.ostkcdn.com/images/products/is/images/direct/9961c82198299ae137f2cef22384f0632e71d5d9/SAFAVIEH-Adirondack-Lelia-Modern-Abstract-Distressed-Rug.jpg?imwidth=480&impolicy=medium",
        price:2564,
        rating:4.2,
        name:"SAFAVIEH Madison Avery Boho Chic Distressed Area Rug"
    },

];


var OrigData = [];
for(var i = 0; i < rugs.length; i++){
    OrigData.push(rugs[i]);
}

displayData(rugs);

document.querySelector("#sortBy").addEventListener("change",sortBy);

function sortBy(){
    var sortValue = document.querySelector("#sortBy").value;
    if(sortValue == "lowToHigh"){
        rugs.sort((a,b) => a.price - b.price);
        displayData(rugs);
    }
    else if(sortValue == "highToLow"){
        rugs.sort((a,b) => b.price - a.price);
        displayData(rugs);
    }
    else if(sortValue == "rating"){
        rugs.sort((a,b) => b.rating - a.rating);
        displayData(rugs);
    }
    else if(sortValue == "--"){
        displayData(OrigData);
    }
}

function displayData(rugs){

    document.querySelector("#cardsContainer").innerHTML = ""
    rugs.map(function(el) {
    var card = document.createElement("div")
    card.className = "card";

    var img = document.createElement("img");
    img.src = el.imageurl;

    var price = document.createElement("p");
    price.innerText = `Sale starts INR ${el.price}`
    price.style.marginLeft = "10px";

    var rating = document.createElement("span");
    rating.className = "rating";
    rating.innerText = el.rating;
    rating.style.padding = "5px 10px";
    rating.style.color = "white";
    rating.style.backgroundColor = "green";
    rating.style.width = "fit-content";
    rating.style.borderRadius = "5px"
    rating.style.marginLeft = "10px";

    var prodName = document.createElement("p");
    prodName.innerText = el.name;
    prodName.style.fontSize = "13px";
    prodName.style.width = "80%"
    prodName.style.marginLeft = "10px";

    card.append(img,price,rating,prodName);
    card.addEventListener("click",function(){
        addToProdPage(el);
    })
    document.querySelector("#cardsContainer").append(card);
});

}

function addToProdPage(el){
    var pageData = {
        img : el.imageurl,
        name : el.name,
        price : el.price,
        rating : el.rating
    };
    localStorage.setItem("pageData",JSON.stringify(pageData))
    window.open('/Overstock-Clone/page.html');
}
