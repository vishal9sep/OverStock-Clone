var rugs = [
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/cb9bb3c888dab85f18fa13983b1c3eb633381855/Vanity-Art-24-inch-Solid-Wood-Single-Sink-Bathroom-Vanity-Cabinet.jpg?imwidth=480&impolicy=medium",
        price: 14827,
        rating: 4.3,
        name: "Vanity Art 24-inch Solid Wood Single Sink Bathroom Vanity Cabinet"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/bb915c4c920ffd2dcc0991159014714eaa579e45/Refinery-50W-L-Shaped-Industrial-Desk-by-Bush-Furniture.jpg?imwidth=480&impolicy=medium",
        price: 7312,
        rating: 4.1,
        name: "Refinery 50W L Shaped Industrial Desk by Bush Furniture"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/5b20deec150a90a8deb683ed7bc434d65471f54f/Copper-Grove-Middlecreek-Corner-Farmhouse-Dinette-Set.jpg?imwidth=480&impolicy=medium",
        price: 44502,
        rating: 4.1,
        name: "Copper Grove Middlecreek Farmhouse Breakfast Nook Dining Set"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/64ba2e11c9b98fa18cfa9407202eab32fece0a62/Carson-Carrington-Solid-Wood-Spindle-Daybed.jpg?imwidth=480&impolicy=medium",
        price: 26484,
        rating: 4.0,
        name: "Middlebrook Solid Wood Spindle Daybed"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/0708f75c9e74e04c740cebda921185eaa91d3ebf/Upholstered-Tufted-Storage-Bench.jpg?imwidth=480&impolicy=medium",
        price: 19399,
        rating: 4.2,
        name: "Upholstered Tufted Storage Bench"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/e62c5f858340a249a2da1ee50b872dc496393358/Kaylee-Spindle-Chair-in-Fabric-with-White-Frame.jpg?imwidth=480&impolicy=medium",
        price: 32579,
        rating: 4.1,
        name: "Kaylee Spindle Chair in Fabric with White Frame"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/17a33d346f0b20ce22f2043c17c2947e3da4d0e0/Carson-Carrington-Klemens-Round-Dining-Table.jpg?imwidth=480&impolicy=medium",
        price: 18822,
        rating: 4.6,
        name: "Carson Carrington Klemens Round Dining Table"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/42ded2fa37088e50fde448e03a87c57c851a296b/Delicia-3-Piece-Living-Room-Set-with-Golden-Legs.jpg?imwidth=480&impolicy=medium",
        price: 58856,
        rating: 4.2,
        name: "Delicia 3 Piece Living Room Set with Golden Legs"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/08b80a67acf1c5ff748b98e4c070d2f09c789764/Carson-Carrington-Telsiai-Triangle-Wood-Coffee-Table.jpg?imwidth=480&impolicy=medium",
        price: 14826,
        rating: 4.4,
        name: "Carson Carrington Telsiai Triangular Wood Coffee Table"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/61141aac4c39eb90e24011d5ddce0ac8ccc8efd6/Brookside-Tara-Square-Tufted-Upholstered-Platform-Bed.jpg?imwidth=480&impolicy=medium",
        price: 18593,
        rating: 4.1,
        name: "Brookside Tara Square Tufted Upholstered Platform Bed"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/60965d0625dc611ba5aabe58e27755a7bfd9f118/Levine-Accent-Chair.jpg?imwidth=480&impolicy=medium",
        price: 27456,
        rating: 4.1,
        name: "Levine Accent Chair"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/5b06e61f6b2029ae7c7ce1f3eaef8111d49aadbe/AANNY-Designs-Lychee-Knitted-Cotton-Round-Pouf-Ottoman.jpg?imwidth=480&impolicy=medium",
        price: 5065,
        rating: 4.2,
        name: "Carbon Loft Abrahams"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/33701d553925357cb3db390f37cf9346195c7d35/Brookside-Adele-Vertical-Upholstered-Bed.jpg?imwidth=480&impolicy=medium",
        price: 47531,
        rating: 4.2,
        name: "AANNY Designs Lychee Knitted Cotton Round Pouf Ottoman"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/47c9ae93df558cc6a7214693e20c3b81a9dd4523/Futzca-Convertible-Sectional-Sofa-Couch-with-Reversible-Chaise%2C-Modern-Linen-Fabric-L-Shaped-Couch-for-Small-Space.jpg?imwidth=480&impolicy=medium",
        price: 41517,
        rating: 4.5,
        name: "Brookside Adele Vertical Upholstered Bed"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/66b11ecb99ff52201f621b13c150ffd938f78328/Sofa-Sack-Bean-Bag-Chair-4-ft.-Memory-Foam-Bean-Bag-Chair.jpg?imwidth=480&impolicy=medium",
        price: 8401,
        rating: 4.6,
        name: "Futzca Modern L-shaped Compact Convertible Sectional Sofa w/ Reversible Chaise"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/7b18f8236d5ce1db92dbd3f3c9cca62d58ebc59f/3-Shelf-Printer-Stand-with-Storage%2C-Rolling-Printer-Table-Machine-Cart-with-Wheels%2C-Mobile-Desk-Organizer-Shelves-for-Office.jpg?imwidth=480&impolicy=medium",
        price: 6588,
        rating: 4.6,
        name: "4-foot Bean Bag Chair Large Memory Foam Bean Bag"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/20306592/Lotusville-24.5-inch-Vintage-PU-Leather-Counter-Height-Stools-Set-of-2-7cffe0b7-7653-4f15-8279-65ce9a00c9d1_600.jpg?imwidth=480&impolicy=medium",
        price: 15742,
        rating: 4.3,
        name: "3-Shelf Printer Stand with Storage, Rolling Printer Table Machine Cart with Wheels, Mobile Desk Organizer Shelves for Office"
    },
    {
        imageurl: "https://ak1.ostkcdn.com/images/products/is/images/direct/20416bc0ec56dd16c44f3ef6e1528476070436b2/Carbon-Loft-Abrahams-Computer-Writing-Desk.jpg?imwidth=480&impolicy=medium",
        price: 11641,
        rating: 4.5,
        name: "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"
    },


];


var OrigData = [];
for (var i = 0; i < rugs.length; i++) {
    OrigData.push(rugs[i]);
}

displayData(rugs);

document.querySelector("#sortBy").addEventListener("change", sortBy);

function sortBy() {
    var sortValue = document.querySelector("#sortBy").value;
    if (sortValue == "lowToHigh") {
        rugs.sort((a, b) => a.price - b.price);
        displayData(rugs);
    }
    else if (sortValue == "highToLow") {
        rugs.sort((a, b) => b.price - a.price);
        displayData(rugs);
    }
    else if (sortValue == "rating") {
        rugs.sort((a, b) => b.rating - a.rating);
        displayData(rugs);
    }
    else if (sortValue == "--") {
        displayData(OrigData);
    }
}

function displayData(rugs) {

    document.querySelector("#cardsContainer").innerHTML = ""
    rugs.map(function (el) {
        var card = document.createElement("div")
        card.className = "card";

        var img = document.createElement("img");
        img.src = el.imageurl;

        var price = document.createElement("p");
        price.innerText = `Sale starts INR ${el.price}`
        price.style.marginLeft = "10px";

        var rating = document.createElement("span");
        rating.className = "rating";
        rating.innerText = el.rating;
        rating.style.padding = "5px 10px";
        rating.style.color = "white";
        rating.style.backgroundColor = "green";
        rating.style.width = "fit-content";
        rating.style.borderRadius = "5px"
        rating.style.marginLeft = "10px";

        var prodName = document.createElement("p");
        prodName.innerText = el.name;
        prodName.style.fontSize = "13px";
        prodName.style.width = "80%"
        prodName.style.marginLeft = "10px";

        card.append(img, price, rating, prodName);
        card.addEventListener("click", function () {
            addToProdPage(el);
        })
        document.querySelector("#cardsContainer").append(card);
    });

}

function addToProdPage(el) {
    var pageData = {
        img: el.imageurl,
        name: el.name,
        price: el.price,
        rating: el.rating
    };
    localStorage.setItem("pageData", JSON.stringify(pageData))
    window.open('/Overstock-Clone/page.html');
}
